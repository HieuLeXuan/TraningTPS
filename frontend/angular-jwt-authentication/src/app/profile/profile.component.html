<ng-template #loggedOut>
  <header class="jumbotron">
    Please login.
  </header>
</ng-template>

<div class="container" style="margin-top: 140px;">
  <header class="jumbotron" *ngIf="currentUser; else loggedOut">
    <div class="row">
      <div class="container d-flex align-items-center flex-column">

        <!-- Masthead Heading-->
        <h1 class="masthead-heading text-uppercase mb-0" *ngIf = "!textProfile">{{currentUser.username}} Profile</h1>
        <div class="input-group mb-3 col-lg-4" *ngIf = "textProfile">
          <input type="text" class="form-control" placeholder="enter username" aria-describedby="basic-addon2" value="{{currentUser.username}}" [(ngModel)]="copyOfCurrentUser.username" >
          <div class="input-group-append">
            <h1><span class="input-group-text" id="basic-addon2">PROFILE</span></h1>
          </div>
        </div>
        <!-- Icon Divider-->
        <div class="divider-custom divider-light">
          <div class="divider-custom-line"></div>
          <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
          <div class="divider-custom-line"></div>
        </div>
      </div>
      <!-- <div class="col-sm-3">
        <div class="text-center">
          <h1>{{ currentUser.username }}</h1>
          <img src="data:{{currentUser.datatype}};base64,{{currentUser.data}}"
            class="avatar rounded-circle img-thumbnail" alt="avatar" />
          <h6>Upload a different photo...</h6>
          <input type="file" accept="image/*" class="text-center center-block file-upload"/>
        </div>
      </div> -->

      <div class="col-sm-12" id="main">
        <ul class="nav nav-tabs">
          <li class="nav-item">
            <a class="nav-link active" data-toggle="tab" href="#home" (click)="textProfile = false">Profile</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#messages" (click)="beginEdit()"><i class="fa fa-edit fa-1x"></i> Edit Profile</a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#messages" (click)="beginEdit()"><i class="fa fa-edit fa-1x"></i> Change Password</a>
          </li> -->
          <li class="nav-item">
            <a class="nav-link disabled" href="#">Disabled</a>
          </li>
        </ul>

        <div class="tab-content">
          <div class="tab-pane active" id="home">
            <hr />

            <div class="row">
              <div class="col-lg-6 mr-auto">
                <p class="lead">
                  <strong>Fullname:</strong><br />
                  {{ currentUser.lastname }} {{ currentUser.firstname }}
                </p>
              </div>
              <div class="col-lg-6 mr-auto">
                <p class="lead">
                  <strong>Email:</strong><br />
                  {{ currentUser.email }}
                </p>
              </div>
              <div class="col-lg-6 mr-auto">
                <p class="lead">
                  <strong>Phone:</strong><br />
                  {{ currentUser.phone }}
                </p>
              </div>
              <div class="col-lg-6 mr-auto">
                <p class="lead">
                  <strong>Location:</strong><br />
                  {{ currentUser.location }}
                </p>
              </div>
              <!-- <div class="col-lg-6 mr-auto">
                <p class="lead">
                  <strong>Roles:</strong>
                  <li *ngFor="let role of currentUser.roles">
                    {{ role }}
                  </li>
                </p>
              </div> -->
            </div>
          </div>
          <!--/tab-pane-->
          <div class="tab-pane" id="messages">
            <h2></h2>

            <hr />
            <div class="row">
              <div class="col-lg-6 mr-auto">
                <label for="firstname">
                  <h4>Firstname</h4>
                </label>
                <input type="text" class="form-control" name="firstname" id="firstname" placeholder="enter firstname"
                  title="enter your firstname if any." [(ngModel)]="copyOfCurrentUser.firstname" #ctrl="ngModel" required />
              </div>
              <div class="col-lg-6 mr-auto">
                <label for="lastname">
                  <h4>Lastname</h4>
                </label>
                <input type="text" class="form-control" name="lastname" id="lastname" placeholder="enter lastname"
                  title="enter your lastname if any." [(ngModel)]="copyOfCurrentUser.lastname" #ctrl="ngModel" required />
              </div>
              <div class="col-lg-6 mr-auto">
                <label for="phone">
                  <h4>Phone</h4>
                </label>
                <input type="text" class="form-control" name="phone" id="phone" placeholder="enter phone"
                  title="enter your phone number if any." [(ngModel)]="copyOfCurrentUser.phone" #ctrl="ngModel" required />
              </div>
              <div class="col-lg-6 mr-auto">
                <label for="email">
                  <h4>Email</h4>
                </label>
                <input type="text" class="form-control" name="email" id="email" placeholder="enter email"
                  title="enter your email if any." [(ngModel)]="copyOfCurrentUser.email" #ctrl="ngModel" required />
              </div>
              <div class="col-lg-6 mr-auto">
                <label for="location">
                  <h4>Location</h4>
                </label>
                <input type="text" class="form-control" name="location" id="location" placeholder="enter location"
                  title="enter your location if any." [(ngModel)]="copyOfCurrentUser.location" #ctrl="ngModel" required />
              </div>
            </div>

            <div class="form-group">
              <div class="col-xs-12">
                <br />
                <button class="btn btn-lg btn-success" (click)="save()">
                  <i class="fa fa-save fa-1x"></i> Save
                </button>
                <button class="btn btn-lg" type="reset" (click)="reset()">
                  <i class="fa fa-reply fa-1x"></i> Reset
                </button>
              </div>
            </div>

            <hr />
          </div>
          <!--/tab-pane-->
        </div>
        <!--/tab-pane-->
      </div>
      <!--/tab-content-->
    </div>
    <!--/col-9-->
  </header>
</div>
